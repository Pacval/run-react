(this.webpackJsonprun=this.webpackJsonprun||[]).push([[0],[,,,,,function(e,a,t){e.exports={caseMainDiv:"gamecase_caseMainDiv__DdosM",image:"gamecase_image__3V_yh"}},function(e,a,t){e.exports={fullPage:"create-level_fullPage__2RlvR",palette:"create-level_palette__2wboY",rightPanel:"create-level_rightPanel__1iAaU",playground:"create-level_playground__1MaEC",validate:"create-level_validate__20rpS"}},function(e,a,t){e.exports={previewMainDiv:"previewlevel_previewMainDiv__25ukK",levelButton:"previewlevel_levelButton__3gkEq",completed:"previewlevel_completed__39Wyi",notCompleted:"previewlevel_notCompleted__gGqep"}},function(e,a,t){e.exports={movementPanel:"actionpanel_movementPanel__Wq6EO",lineCentered:"actionpanel_lineCentered__3m_cL",itemPanel:"actionpanel_itemPanel__3keW7"}},function(e,a,t){e.exports={victory:"game_victory__3MZO1",playgroundDiv:"game_playgroundDiv__uZikx",actionPanelDiv:"game_actionPanelDiv__3yS9A"}},,function(e,a,t){e.exports={fullPage:"menu_fullPage__1sQxP",menuLink:"menu_menuLink__7APGP"}},function(e,a,t){e.exports={fullPage:"select-level_fullPage__3Iwxk",title:"select-level_title__1vx7W",divLevels:"select-level_divLevels__2uKiu"}},,,,,,function(e,a,t){e.exports={layoutMainDiv:"layout_layoutMainDiv__3It4L"}},function(e,a,t){e.exports={row:"playground_row__12ACJ"}},function(e,a,t){e.exports={actionButton:"actionbutton_actionButton__2kqle"}},function(e,a,t){e.exports=t(39)},,,,,,,,,,,,,function(e,a,t){},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL8rwb4ouiLght0RAzt59C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBcHowIHdA9BdgAAAABJRU5ErkJggg=="},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL/6F4JIuiLght0RAzrt9C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBetzAJv68nj4AAAAABJRU5ErkJggg=="},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADbSURBVHhe7dAxEQAgDAAx/KupKHYsYKG/5y4Kct4dlmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZa3c+B0Ai78k09AIAAAAASUVORK5CYII="},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEASURBVHhe7dExAcAwDMCwdMjLPH0GQof1GIDP3d0J4/sbREMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDaHMPE7xBEUWPmKIAAAAAElFTkSuQmCC"},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(16),r=t.n(c),A=t(1);t(34),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(11),o=t.n(i),E=function(){return l.a.createElement("div",{className:o.a.fullPage},l.a.createElement(A.a,{to:"/levels",className:o.a.menuLink},"Jouer"),l.a.createElement(A.a,{to:"/create-level",className:o.a.menuLink},"Cr\xe9er un niveau"))},s=t(12),m=t.n(s),u=t(7),T=t.n(u),x=function(e){var a=e.level;return l.a.createElement("div",{className:T.a.previewMainDiv},l.a.createElement(A.a,{to:"/game",state:{initialMap:a},className:[T.a.levelButton,a.completed?T.a.completed:T.a.notCompleted].join(" ")},a.number))},v=t(3),M=Object(n.createContext)(),B=M.Provider,d=(M.Consumer,[]),N=function(e){var a=e.children,t=Object(n.useState)(d),c=Object(v.a)(t,2),r=c[0],A=c[1];return Object(n.useEffect)((function(){A([{id:123,number:1,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:0},exit:{y:0,x:3},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]},{id:1e3,number:2,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:3},exit:{y:0,x:0},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]}])}),[]),l.a.createElement(B,{value:{levels:r,setLevels:A}},a)},p=function(){return Object(n.useContext)(M)},D=function(){var e=p().levels;return l.a.createElement("div",{className:m.a.fullPage},l.a.createElement(A.a,{to:"/"},"Revenir au menu"),l.a.createElement("h1",{className:m.a.title},"S\xe9lection niveau"),l.a.createElement("div",{className:m.a.divLevels},e.sort((function(e,a){return e.number-a.number})).map((function(e){return l.a.createElement(x,{key:e.id,level:e})}))))},g=t(2),y=t(18),b=t.n(y),w=function(e){var a=e.children;return l.a.createElement("div",{className:b.a.layoutMainDiv},a)},f=t(13),_=t(19),Q=t.n(_),C=t(5),k=t.n(C),h=function(e){var a=e.row,c=e.col,r=e.map,A=Object(n.useState)("EMPTY"),i=Object(v.a)(A,2),o=i[0],E=i[1],s=Object(n.useState)(!1),m=Object(v.a)(s,2),u=(m[0],m[1]);return Object(n.useEffect)((function(){r.obstacles.some((function(e){return e.y===a&&e.x===c}))?E("OBSTACLE"):r.enemies.some((function(e){return e.y===a&&e.x===c}))?E("ENEMY"):r.player.y===a&&r.player.x===c?E("PLAYER"):r.exit.y===a&&r.exit.x===c?E("EXIT"):E("EMPTY"),u(r.torches.some((function(e){return e.y===a&&e.x===c})))})),l.a.createElement("div",{className:k.a.caseMainDiv},"OBSTACLE"===o&&l.a.createElement("img",{className:k.a.image,src:t(35),alt:""})||"ENEMY"===o&&l.a.createElement("img",{className:k.a.image,src:t(36),alt:""})||"PLAYER"===o&&l.a.createElement("img",{className:k.a.image,src:t(37),alt:""})||"EXIT"===o&&l.a.createElement("img",{className:k.a.image,src:t(38),alt:""}))},O=function(e){var a=e.map;return l.a.createElement(l.a.Fragment,null,Object(f.a)(new Array(a.dimensions.row)).map((function(e,t){return l.a.createElement("div",{key:t,className:Q.a.row},Object(f.a)(new Array(a.dimensions.col)).map((function(e,n){return l.a.createElement(h,{key:n,row:t,col:n,map:a})})))})))},I=t(8),P=t.n(I),R=t(20),j=t.n(R),U=function(e){var a=e.name,t=e.onClick,n=e.disabled;return l.a.createElement("button",{className:j.a.actionButton,onClick:t,disabled:n},a)},S=function(e){var a=e.doMove,t=e.possibleMoves;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:P.a.movementPanel},l.a.createElement("div",{className:P.a.lineCentered},l.a.createElement(U,{name:"Haut",onClick:function(){return a("UP")},disabled:!t.includes("UP")})),l.a.createElement("div",{className:P.a.lineCentered},l.a.createElement(U,{name:"Gauche",onClick:function(){return a("LEFT")},disabled:!t.includes("LEFT")}),l.a.createElement(U,{name:"Bas",onClick:function(){return a("DOWN")},disabled:!t.includes("DOWN")}),l.a.createElement(U,{name:"Droite",onClick:function(){return a("RIGHT")},disabled:!t.includes("RIGHT")}))),l.a.createElement("div",{className:P.a.itemPanel},l.a.createElement(U,{name:"Torche",disabled:!t.includes("TORCH")}),l.a.createElement(U,{name:"Hache",disabled:!t.includes("AXE")})))},V=t(9),J=t.n(V),L=function(e){var a=e.location.state.initialMap,t=p(),c=t.levels,r=t.setLevels,i=Object(n.useState)(a),o=Object(v.a)(i,2),E=o[0],s=o[1],m=Object(n.useState)([]),u=Object(v.a)(m,2),T=u[0],x=u[1],M=Object(n.useState)("PLAYING"),B=Object(v.a)(M,2),d=B[0],N=B[1];Object(n.useEffect)((function(){var e=[];"PLAYING"===d&&(E.player.x===E.exit.x&&E.player.y===E.exit.y?(N("VICTORY"),r(c.map((function(e){return e.id===E.id?Object(g.a)({},e,{completed:!0}):e})))):(E.obstacles.some((function(e){return e.y===E.player.y-1&&e.x===E.player.x}))||e.push("UP"),E.obstacles.some((function(e){return e.y===E.player.y+1&&e.x===E.player.x}))||e.push("DOWN"),E.obstacles.some((function(e){return e.y===E.player.y&&e.x===E.player.x-1}))||e.push("LEFT"),E.obstacles.some((function(e){return e.y===E.player.y&&e.x!==E.player.x+1}))||e.push("RIGHT"))),x(e)}),[E,c,r,d]);var D=function(){s(a),N("PLAYING")};return l.a.createElement(w,null,"VICTORY"===d&&l.a.createElement("div",{className:J.a.victory},l.a.createElement("p",null,"Vous avez gagn\xe9"),l.a.createElement("button",{onClick:function(){return D()}},"Recommencer"),l.a.createElement(A.a,{to:"/levels"},l.a.createElement("button",null,"Quitter"))),"DEFEAT"===d&&l.a.createElement("div",{className:J.a.victory},l.a.createElement("p",null,"Vous vous \xeates fait attraper"),l.a.createElement("button",{onClick:function(){return D()}},"Recommencer"),l.a.createElement(A.a,{to:"/levels"},l.a.createElement("button",null,"Quitter"))),l.a.createElement("div",{className:J.a.playgroundDiv},l.a.createElement(A.a,{to:"/levels"},"Quitter"),l.a.createElement(O,{map:E})),l.a.createElement("div",{className:J.a.actionPanelDiv},l.a.createElement(S,{doMove:function(e){return function(e){switch(e){case"UP":s(Object(g.a)({},E,{player:Object(g.a)({},E.player,{y:E.player.y-1})}));break;case"DOWN":s(Object(g.a)({},E,{player:Object(g.a)({},E.player,{y:E.player.y+1})}));break;case"LEFT":s(Object(g.a)({},E,{player:Object(g.a)({},E.player,{x:E.player.x-1})}));break;case"RIGHT":s(Object(g.a)({},E,{player:Object(g.a)({},E.player,{x:E.player.x+1})}))}}(e)},possibleMoves:T})))},G=t(10),Y=t(6),F=t.n(Y),X=function(){var e={dimensions:{row:3,col:3},player:{y:void 0,x:void 0},exit:{y:void 0,x:void 0},enemies:[],obstacles:[{y:0,x:0},{y:0,x:1},{y:0,x:2},{y:1,x:0},{y:1,x:2},{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[]},a=Object(n.useState)(e),t=Object(v.a)(a,2),c=t[0],r=t[1],i=function(e){var a=e.name,t=e.value;t>=3&&t<=10&&r(Object(g.a)({},c,{dimensions:Object(g.a)({},c.dimensions,Object(G.a)({},a,t))}))};return l.a.createElement("div",{className:F.a.fullPage},l.a.createElement("div",{className:F.a.palette},l.a.createElement(A.a,{to:"/"},"Retourner au menu"),l.a.createElement("label",null,"Hauteur : ",c.dimensions.row,l.a.createElement("button",{onClick:function(){return i({name:"row",value:c.dimensions.row-1})}},"-"),l.a.createElement("button",{onClick:function(){return i({name:"row",value:c.dimensions.row+1})}},"+")),l.a.createElement("label",null,"Largeur : ",c.dimensions.col,l.a.createElement("button",{onClick:function(){return i({name:"col",value:c.dimensions.col-1})}},"-"),l.a.createElement("button",{onClick:function(){return i({name:"col",value:c.dimensions.col+1})}},"+"))),l.a.createElement("div",{className:F.a.rightPanel},l.a.createElement("div",{className:F.a.playground},l.a.createElement(O,{map:c})),l.a.createElement("div",{className:F.a.validate},l.a.createElement("button",null,"Enregistrer ce niveau"))))},Z=function(){return l.a.createElement(A.b,{to:"/levels",noThrow:!0})};r.a.render(l.a.createElement((function(){return l.a.createElement(N,null,l.a.createElement(A.c,null,l.a.createElement(E,{path:"/"}),l.a.createElement(D,{path:"/levels"}),l.a.createElement(L,{path:"/game"}),l.a.createElement(X,{path:"/create-level"}),l.a.createElement(Z,{default:!0})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[21,1,2]]]);
//# sourceMappingURL=main.90a8ace4.chunk.js.map