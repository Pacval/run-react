(this.webpackJsonprun=this.webpackJsonprun||[]).push([[0],[,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),A=t.n(n),l=t(7),c=t.n(l);a.default=function(e){var a=e.row,n=e.col,l=e.map,r=e.onClick,i=(l.torches.some((function(e){return e.y===a&&e.x===n})),!!l.selectedCase&&(l.selectedCase.y===a&&l.selectedCase.x===n));return A.a.createElement("div",{className:[c.a.caseMainDiv,i?c.a.selected:""].join(" "),onClick:r},A.a.createElement("img",{className:c.a.image,src:t(36)("".concat(l.obstacles.some((function(e){return e.y===a&&e.x===n}))?"./img/obstacle.png":l.enemies.some((function(e){return e.y===a&&e.x===n}))?"./img/enemy.png":l.player.y===a&&l.player.x===n?"./img/player.png":l.exit.y===a&&l.exit.x===n?"./img/exit.png":"./img/empty.png")),alt:""}))}},,function(e,a,t){e.exports={fullPage:"create-level_fullPage__2RlvR",palette:"create-level_palette__2wboY",rightPanel:"create-level_rightPanel__1iAaU",playground:"create-level_playground__1MaEC",validate:"create-level_validate__20rpS"}},function(e,a,t){e.exports={caseMainDiv:"gamecase_caseMainDiv__DdosM",image:"gamecase_image__3V_yh",selected:"gamecase_selected__jTxqr"}},function(e,a,t){e.exports={previewMainDiv:"previewlevel_previewMainDiv__25ukK",levelButton:"previewlevel_levelButton__3gkEq",completed:"previewlevel_completed__39Wyi",notCompleted:"previewlevel_notCompleted__gGqep"}},function(e,a,t){e.exports={movementPanel:"actionpanel_movementPanel__Wq6EO",lineCentered:"actionpanel_lineCentered__3m_cL",itemPanel:"actionpanel_itemPanel__3keW7"}},function(e,a,t){e.exports={victory:"game_victory__3MZO1",playgroundDiv:"game_playgroundDiv__uZikx",actionPanelDiv:"game_actionPanelDiv__3yS9A"}},,function(e,a,t){e.exports={fullPage:"menu_fullPage__1sQxP",menuLink:"menu_menuLink__7APGP"}},function(e,a,t){e.exports={fullPage:"select-level_fullPage__3Iwxk",title:"select-level_title__1vx7W",divLevels:"select-level_divLevels__2uKiu"}},,,,,,function(e,a,t){e.exports={layoutMainDiv:"layout_layoutMainDiv__3It4L"}},function(e,a,t){e.exports={row:"playground_row__12ACJ"}},function(e,a,t){e.exports={actionButton:"actionbutton_actionButton__2kqle"}},function(e,a,t){e.exports=t(42)},,,,,,,,,,,,,function(e,a,t){},function(e,a,t){var n={".":4,"./":4,"./gamecase.module.css":7,"./img/empty.png":37,"./img/enemy.png":38,"./img/exit.png":39,"./img/obstacle.png":40,"./img/player.png":41,"./index":4,"./index.js":4};function A(e){var a=l(e);return t(a)}function l(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}A.keys=function(){return Object.keys(n)},A.resolve=l,e.exports=A,A.id=36},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAECSURBVHhe7dGxDcAwDMAwpyf7fyBZegQHcdEBOrt7J4zvbxANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTSEMvMAKYUDHbf/XGsAAAAASUVORK5CYII="},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL/6F4JIuiLght0RAzrt9C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBetzAJv68nj4AAAAABJRU5ErkJggg=="},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEASURBVHhe7dExAcAwDMCwdMjLPH0GQof1GIDP3d0J4/sbREMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDaHMPE7xBEUWPmKIAAAAAElFTkSuQmCC"},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL8rwb4ouiLght0RAzt59C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBcHowIHdA9BdgAAAABJRU5ErkJggg=="},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADbSURBVHhe7dAxEQAgDAAx/KupKHYsYKG/5y4Kct4dlmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZa3c+B0Ai78k09AIAAAAASUVORK5CYII="},function(e,a,t){"use strict";t.r(a);var n=t(0),A=t.n(n),l=t(17),c=t.n(l),r=t(1);t(35),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(12),o=t.n(i),E=function(){return A.a.createElement("div",{className:o.a.fullPage},A.a.createElement(r.a,{to:"/levels",className:o.a.menuLink},"Jouer"),A.a.createElement(r.a,{to:"/create-level",className:o.a.menuLink},"Cr\xe9er un niveau"))},s=t(13),m=t.n(s),u=t(8),x=t.n(u),T=function(e){var a=e.level;return A.a.createElement("div",{className:x.a.previewMainDiv},A.a.createElement(r.a,{to:"/game",state:{initialMap:a},className:[x.a.levelButton,a.completed?x.a.completed:x.a.notCompleted].join(" ")},a.number))},B=t(3),M=Object(n.createContext)(),v=M.Provider,d=(M.Consumer,[]),N=function(e){var a=e.children,t=Object(n.useState)(d),l=Object(B.a)(t,2),c=l[0],r=l[1];return Object(n.useEffect)((function(){r([{id:123,number:1,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:0},exit:{y:0,x:3},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]},{id:1e3,number:2,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:3},exit:{y:0,x:0},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]}])}),[]),A.a.createElement(v,{value:{levels:c,setLevels:r}},a)},p=function(){return Object(n.useContext)(M)},g=function(){var e=p().levels;return A.a.createElement("div",{className:m.a.fullPage},A.a.createElement(r.a,{to:"/"},"Revenir au menu"),A.a.createElement("h1",{className:m.a.title},"S\xe9lection niveau"),A.a.createElement("div",{className:m.a.divLevels},e.sort((function(e,a){return e.number-a.number})).map((function(e){return A.a.createElement(T,{key:e.id,level:e})}))))},w=t(2),D=t(19),Q=t.n(D),y=function(e){var a=e.children;return A.a.createElement("div",{className:Q.a.layoutMainDiv},a)},f=t(14),b=t(20),_=t.n(b),C=t(4),k=function(e){var a=e.map,t=e.onClick;return A.a.createElement(A.a.Fragment,null,Object(f.a)(new Array(a.dimensions.row)).map((function(e,n){return A.a.createElement("div",{key:n,className:_.a.row},Object(f.a)(new Array(a.dimensions.col)).map((function(e,l){return A.a.createElement(C.default,{key:l,row:n,col:l,map:a,onClick:function(){return t({row:n,col:l})}})})))})))},h=t(9),O=t.n(h),U=t(21),R=t.n(U),I=function(e){var a=e.name,t=e.onClick,n=e.disabled;return A.a.createElement("button",{className:R.a.actionButton,onClick:t,disabled:n},a)},j=function(e){var a=e.doMove,t=e.possibleMoves;return A.a.createElement(A.a.Fragment,null,A.a.createElement("div",{className:O.a.movementPanel},A.a.createElement("div",{className:O.a.lineCentered},A.a.createElement(I,{name:"Haut",onClick:function(){return a("UP")},disabled:!t.includes("UP")})),A.a.createElement("div",{className:O.a.lineCentered},A.a.createElement(I,{name:"Gauche",onClick:function(){return a("LEFT")},disabled:!t.includes("LEFT")}),A.a.createElement(I,{name:"Bas",onClick:function(){return a("DOWN")},disabled:!t.includes("DOWN")}),A.a.createElement(I,{name:"Droite",onClick:function(){return a("RIGHT")},disabled:!t.includes("RIGHT")}))),A.a.createElement("div",{className:O.a.itemPanel},A.a.createElement(I,{name:"Torche",disabled:!t.includes("TORCH")}),A.a.createElement(I,{name:"Hache",disabled:!t.includes("AXE")})))},P=t(10),V=t.n(P),J=function(e){var a=e.location.state.initialMap,t=p(),l=t.levels,c=t.setLevels,i=Object(n.useState)(a),o=Object(B.a)(i,2),E=o[0],s=o[1],m=Object(n.useState)([]),u=Object(B.a)(m,2),x=u[0],T=u[1],M=Object(n.useState)("PLAYING"),v=Object(B.a)(M,2),d=v[0],N=v[1];Object(n.useEffect)((function(){var e=[];"PLAYING"===d&&(E.player.x===E.exit.x&&E.player.y===E.exit.y?(N("VICTORY"),c(l.map((function(e){return e.id===E.id?Object(w.a)({},e,{completed:!0}):e})))):(E.player.y>0&&!E.obstacles.some((function(e){return e.y===E.player.y-1&&e.x===E.player.x}))&&e.push("UP"),E.player.y<E.dimensions.row-1&&!E.obstacles.some((function(e){return e.y===E.player.y+1&&e.x===E.player.x}))&&e.push("DOWN"),E.player.x>0&&!E.obstacles.some((function(e){return e.y===E.player.y&&e.x===E.player.x-1}))&&e.push("LEFT"),E.player.x<E.dimensions.col-1&&!E.obstacles.some((function(e){return e.y===E.player.y&&e.x!==E.player.x+1}))&&e.push("RIGHT"))),T(e)}),[E,l,c,d]);var g=function(){s(a),N("PLAYING")};return A.a.createElement(y,null,"VICTORY"===d&&A.a.createElement("div",{className:V.a.victory},A.a.createElement("p",null,"Vous avez gagn\xe9"),A.a.createElement("button",{onClick:function(){return g()}},"Recommencer"),A.a.createElement(r.a,{to:"/levels"},A.a.createElement("button",null,"Quitter"))),"DEFEAT"===d&&A.a.createElement("div",{className:V.a.victory},A.a.createElement("p",null,"Vous vous \xeates fait attraper"),A.a.createElement("button",{onClick:function(){return g()}},"Recommencer"),A.a.createElement(r.a,{to:"/levels"},A.a.createElement("button",null,"Quitter"))),A.a.createElement("div",{className:V.a.playgroundDiv},A.a.createElement(r.a,{to:"/levels"},"Quitter"),A.a.createElement(k,{map:E})),A.a.createElement("div",{className:V.a.actionPanelDiv},A.a.createElement(j,{doMove:function(e){return function(e){switch(e){case"UP":s(Object(w.a)({},E,{player:Object(w.a)({},E.player,{y:E.player.y-1})}));break;case"DOWN":s(Object(w.a)({},E,{player:Object(w.a)({},E.player,{y:E.player.y+1})}));break;case"LEFT":s(Object(w.a)({},E,{player:Object(w.a)({},E.player,{x:E.player.x-1})}));break;case"RIGHT":s(Object(w.a)({},E,{player:Object(w.a)({},E.player,{x:E.player.x+1})}))}}(e)},possibleMoves:x})))},S=t(11),z=t(6),G=t.n(z),L=function(){var e={dimensions:{row:3,col:3},selectedCase:{row:void 0,col:void 0},player:{y:void 0,x:void 0},exit:{y:void 0,x:void 0},enemies:[],obstacles:[],torches:[]},a=Object(n.useState)(e),t=Object(B.a)(a,2),l=t[0],c=t[1],i=function(e){var a=e.name,t=e.value;t>=3&&t<=10&&c(Object(w.a)({},l,{dimensions:Object(w.a)({},l.dimensions,Object(S.a)({},a,t))}))};return A.a.createElement("div",{className:G.a.fullPage},A.a.createElement("div",{className:G.a.palette},A.a.createElement(r.a,{to:"/"},"Retourner au menu"),A.a.createElement("label",null,"Hauteur : ",l.dimensions.row,A.a.createElement("button",{onClick:function(){return i({name:"row",value:l.dimensions.row-1})}},"-"),A.a.createElement("button",{onClick:function(){return i({name:"row",value:l.dimensions.row+1})}},"+")),A.a.createElement("label",null,"Largeur : ",l.dimensions.col,A.a.createElement("button",{onClick:function(){return i({name:"col",value:l.dimensions.col-1})}},"-"),A.a.createElement("button",{onClick:function(){return i({name:"col",value:l.dimensions.col+1})}},"+"))),A.a.createElement("div",{className:G.a.rightPanel},A.a.createElement("div",{className:G.a.playground},A.a.createElement(k,{map:l,onClick:function(e){var a=e.row,t=e.col;c(Object(w.a)({},l,{selectedCase:{y:a,x:t}}))}})),A.a.createElement("div",{className:G.a.validate},A.a.createElement("button",null,"Enregistrer ce niveau"))))},F=function(){return A.a.createElement(r.b,{to:"/",noThrow:!0})};c.a.render(A.a.createElement((function(){return A.a.createElement(N,null,A.a.createElement(r.c,null,A.a.createElement(E,{path:"/"}),A.a.createElement(g,{path:"/levels"}),A.a.createElement(J,{path:"/game"}),A.a.createElement(L,{path:"/create-level"}),A.a.createElement(F,{default:!0})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[22,1,2]]]);
//# sourceMappingURL=main.bc7880ad.chunk.js.map