{"version":3,"sources":["components/GameCase/gamecase.module.css","components/ActionPanel/actionpanel.module.css","components/PreviewLevel/previewlevel.module.css","components/Playground/playground.module.css","pages/select-level/selectlevel.module.css","pages/game/game.module.css","components/Layout/layout.module.css","components/ActionButton/actionbutton.module.css","components/GameCase/img/obstacle.png","components/GameCase/img/enemy.png","components/GameCase/img/player.png","components/GameCase/img/exit.png","utils/serviceWorker.js","components/Layout/index.js","components/GameCase/index.js","constants/gameCaseTypes.js","components/Playground/index.js","components/ActionButton/index.js","components/ActionPanel/index.js","constants/actionMoves.js","utils/useLevels.js","pages/game/index.js","constants/gameStates.js","components/PreviewLevel/index.js","pages/select-level/index.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","children","className","style","layoutMainDiv","type","torch","caseMainDiv","image","src","require","alt","map","playgroundMainDiv","to","gameDiv","row","rowIndex","key","gameCase","colIndex","GameCase","name","onClick","disabled","actionButton","doMove","possibleMoves","actionPanelMainDiv","movementPanel","lineCentered","ActionButton","includes","itemPanel","levelsProvider","createContext","Provider","initialLevels","Consumer","LevelsProvider","useState","levels","setLevels","useEffect","id","number","completed","dimensions","col","player","y","x","exit","enemies","obstacles","torches","value","useContext","initialMap","state","useLevels","setDimensions","setPlayer","setExit","setEnemies","setObstacles","setTorches","setMap","setPossibleMoves","result","setResult","getTypeCase","some","item","isTorchOnCase","newMap","push","newPossibleMoves","resetGame","Layout","victory","Playground","ActionPanel","move","handleMove","level","previewMainDiv","levelButton","notCompleted","join","fullPage","title","divLevels","sort","a","b","PreviewLevel","Redirection","noThrow","ReactDOM","render","path","default","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5b3b6726.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"caseMainDiv\":\"gamecase_caseMainDiv__DdosM\",\"image\":\"gamecase_image__3V_yh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionPanelMainDiv\":\"actionpanel_actionPanelMainDiv__2uz7O\",\"movementPanel\":\"actionpanel_movementPanel__Wq6EO\",\"lineCentered\":\"actionpanel_lineCentered__3m_cL\",\"itemPanel\":\"actionpanel_itemPanel__3keW7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"previewMainDiv\":\"previewlevel_previewMainDiv__25ukK\",\"levelButton\":\"previewlevel_levelButton__3gkEq\",\"completed\":\"previewlevel_completed__39Wyi\",\"notCompleted\":\"previewlevel_notCompleted__gGqep\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playgroundMainDiv\":\"playground_playgroundMainDiv__1HebO\",\"row\":\"playground_row__12ACJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullPage\":\"selectlevel_fullPage__K49gz\",\"title\":\"selectlevel_title__25QdX\",\"divLevels\":\"selectlevel_divLevels__327M1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"victory\":\"game_victory__3MZO1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layoutMainDiv\":\"layout_layoutMainDiv__3It4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionButton\":\"actionbutton_actionButton__2kqle\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL8rwb4ouiLght0RAzt59C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBcHowIHdA9BdgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL/6F4JIuiLght0RAzrt9C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBetzAJv68nj4AAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADbSURBVHhe7dAxEQAgDAAx/KupKHYsYKG/5y4Kct4dlmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZa3c+B0Ai78k09AIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEASURBVHhe7dExAcAwDMCwdMjLPH0GQof1GIDP3d0J4/sbREMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDaHMPE7xBEUWPmKIAAAAAElFTkSuQmCC\"","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nimport style from \"./layout.module.css\";\r\n\r\nexport default ({ children }) => {\r\n  return <div className={style.layoutMainDiv}>{children}</div>;\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./gamecase.module.css\";\r\nimport { PLAYER, OBSTACLE, ENEMY, EXIT } from \"../../constants/gameCaseTypes\";\r\n\r\nexport default ({ type, torch }) => {\r\n  return (\r\n    <div className={style.caseMainDiv}>\r\n      {(type === OBSTACLE && (\r\n        <img\r\n          className={style.image}\r\n          src={require(\"./img/obstacle.png\")}\r\n          alt=\"\"\r\n        />\r\n      )) ||\r\n        (type === ENEMY && (\r\n          <img\r\n            className={style.image}\r\n            src={require(\"./img/enemy.png\")}\r\n            alt=\"\"\r\n          />\r\n        )) ||\r\n        (type === PLAYER && (\r\n          <img\r\n            className={style.image}\r\n            src={require(\"./img/player.png\")}\r\n            alt=\"\"\r\n          />\r\n        )) ||\r\n        (type === EXIT && (\r\n          <img className={style.image} src={require(\"./img/exit.png\")} alt=\"\" />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n","export const EMPTY = \"EMPTY\";\r\nexport const PLAYER = \"PLAYER\";\r\nexport const ENEMY = \"ENEMY\";\r\nexport const EXIT = \"EXIT\";\r\nexport const OBSTACLE = \"OBSTACLE\";\r\n","import React from \"react\";\r\nimport { Link } from \"@reach/router\";\r\n\r\nimport style from \"./playground.module.css\";\r\n\r\nimport GameCase from \"../GameCase\";\r\n\r\nexport default ({ map }) => {\r\n  return (\r\n    <div className={style.playgroundMainDiv}>\r\n      <Link to=\"/levels\">\r\n        <button>Quitter</button>\r\n      </Link>\r\n      <div className={style.gameDiv}>\r\n        {map.map((row, rowIndex) => {\r\n          return (\r\n            <div key={rowIndex} className={style.row}>\r\n              {row.map((gameCase, colIndex) => (\r\n                <GameCase\r\n                  key={colIndex}\r\n                  type={gameCase.type}\r\n                  torch={gameCase.torch}\r\n                />\r\n              ))}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./actionbutton.module.css\";\r\n\r\nexport default ({ name, onClick, disabled }) => {\r\n  return (\r\n    <button\r\n      className={style.actionButton}\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      {name}\r\n    </button>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./actionpanel.module.css\";\r\nimport { UP, DOWN, LEFT, RIGHT, TORCH, AXE } from \"../../constants/actionMoves\";\r\n\r\nimport ActionButton from \"../ActionButton\";\r\n\r\nexport default ({ doMove, possibleMoves }) => {\r\n  return (\r\n    <div className={style.actionPanelMainDiv}>\r\n      <div className={style.movementPanel}>\r\n        <div className={style.lineCentered}>\r\n          <ActionButton\r\n            name=\"Haut\"\r\n            onClick={() => doMove(UP)}\r\n            disabled={!possibleMoves.includes(UP)}\r\n          />\r\n        </div>\r\n        <div className={style.lineCentered}>\r\n          <ActionButton\r\n            name=\"Gauche\"\r\n            onClick={() => doMove(LEFT)}\r\n            disabled={!possibleMoves.includes(LEFT)}\r\n          />\r\n          <ActionButton\r\n            name=\"Bas\"\r\n            onClick={() => doMove(DOWN)}\r\n            disabled={!possibleMoves.includes(DOWN)}\r\n          />\r\n          <ActionButton\r\n            name=\"Droite\"\r\n            onClick={() => doMove(RIGHT)}\r\n            disabled={!possibleMoves.includes(RIGHT)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={style.itemPanel}>\r\n        <ActionButton name=\"Torche\" disabled={!possibleMoves.includes(TORCH)} />\r\n        <ActionButton name=\"Hache\" disabled={!possibleMoves.includes(AXE)} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const UP = \"UP\";\r\nexport const DOWN = \"DOWN\";\r\nexport const LEFT = \"LEFT\";\r\nexport const RIGHT = \"RIGHT\";\r\nexport const TORCH = \"TORCH\";\r\nexport const AXE = \"AXE\";\r\n","import React, { createContext, useState, useContext, useEffect } from \"react\";\r\n\r\nconst levelsProvider = createContext();\r\nconst { Provider, Consumer } = levelsProvider;\r\n\r\nconst initialLevels = [];\r\n\r\nexport const LevelsProvider = ({ children }) => {\r\n  const [levels, setLevels] = useState(initialLevels);\r\n\r\n  useEffect(() => {\r\n    setLevels([\r\n      {\r\n        id: 123,\r\n        number: 1,\r\n        completed: false,\r\n        dimensions: { row: 4, col: 4 },\r\n        player: { y: 0, x: 0 },\r\n        exit: { y: 0, x: 3 },\r\n        enemies: [{ y: 3, x: 0 }],\r\n        obstacles: [\r\n          { y: 2, x: 0 },\r\n          { y: 2, x: 1 },\r\n          { y: 2, x: 2 }\r\n        ],\r\n        torches: [{ y: 0, x: 1 }]\r\n      },\r\n      {\r\n        id: 1000,\r\n        number: 2,\r\n        completed: false,\r\n        dimensions: { row: 4, col: 4 },\r\n        player: { y: 0, x: 3 },\r\n        exit: { y: 0, x: 0 },\r\n        enemies: [{ y: 3, x: 0 }],\r\n        obstacles: [\r\n          { y: 2, x: 0 },\r\n          { y: 2, x: 1 },\r\n          { y: 2, x: 2 }\r\n        ],\r\n        torches: [{ y: 0, x: 1 }]\r\n      }\r\n    ]);\r\n  }, []);\r\n\r\n  return <Provider value={{ levels, setLevels }}>{children}</Provider>;\r\n};\r\n\r\nexport const LevelsConsumer = Consumer;\r\n\r\nexport default () => useContext(levelsProvider);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"@reach/router\";\r\n\r\nimport Layout from \"../../components/Layout\";\r\nimport Playground from \"../../components/Playground\";\r\nimport ActionPanel from \"../../components/ActionPanel\";\r\n\r\nimport useLevels from \"../../utils/useLevels\";\r\nimport style from \"./game.module.css\";\r\n\r\nimport {\r\n  PLAYER,\r\n  EMPTY,\r\n  ENEMY,\r\n  EXIT,\r\n  OBSTACLE\r\n} from \"../../constants/gameCaseTypes\";\r\nimport { UP, DOWN, LEFT, RIGHT } from \"../../constants/actionMoves\";\r\nimport { PLAYING, VICTORY, DEFEAT } from \"../../constants/gameStates\";\r\n\r\nexport default ({ location }) => {\r\n  const initialMap = location.state.initialMap;\r\n\r\n  const { levels, setLevels } = useLevels();\r\n\r\n  const [dimensions, setDimensions] = useState(initialMap.dimensions);\r\n  const [player, setPlayer] = useState(initialMap.player);\r\n  const [exit, setExit] = useState(initialMap.exit);\r\n  const [enemies, setEnemies] = useState(initialMap.enemies);\r\n  const [obstacles, setObstacles] = useState(initialMap.obstacles);\r\n  const [torches, setTorches] = useState(initialMap.torches);\r\n\r\n  const [map, setMap] = useState([]);\r\n  const [possibleMoves, setPossibleMoves] = useState([]);\r\n  const [result, setResult] = useState(PLAYING);\r\n\r\n  useEffect(() => {\r\n    const getTypeCase = (y, x) => {\r\n      if (obstacles.some(item => item.y === y && item.x === x)) {\r\n        return OBSTACLE;\r\n      } else if (enemies.some(item => item.y === y && item.x === x)) {\r\n        return ENEMY;\r\n      } else if (player.x === x && player.y === y) {\r\n        return PLAYER;\r\n      } else if (exit.x === x && exit.y === y) {\r\n        return EXIT;\r\n      } else {\r\n        return EMPTY;\r\n      }\r\n    };\r\n\r\n    const isTorchOnCase = (y, x) => {\r\n      return torches.some(item => item.y === y && item.x === x);\r\n    };\r\n\r\n    const newMap = [];\r\n    for (var y = 0; y < dimensions.row; y++) {\r\n      newMap.push([]);\r\n      for (var x = 0; x < dimensions.col; x++) {\r\n        newMap[y].push({ type: getTypeCase(y, x), torch: isTorchOnCase() });\r\n      }\r\n    }\r\n    setMap(newMap);\r\n\r\n    const newPossibleMoves = [];\r\n\r\n    // ATTENTION on ne passe ici que quand la partie n'est pas finie. Sinon boucle infinie de render\r\n    if (result === PLAYING) {\r\n      // condition de victoire\r\n      if (player.x === exit.x && player.y === exit.y) {\r\n        setResult(VICTORY);\r\n        setLevels(\r\n          levels.map(item =>\r\n            item.id === initialMap.id ? { ...item, completed: true } : item\r\n          )\r\n        );\r\n      } else {\r\n        if (\r\n          !obstacles.some(\r\n            item => item.y === player.y - 1 && item.x === player.x\r\n          )\r\n        ) {\r\n          newPossibleMoves.push(UP);\r\n        }\r\n        if (\r\n          !obstacles.some(\r\n            item => item.y === player.y + 1 && item.x === player.x\r\n          )\r\n        ) {\r\n          newPossibleMoves.push(DOWN);\r\n        }\r\n        if (\r\n          !obstacles.some(\r\n            item => item.y === player.y && item.x === player.x - 1\r\n          )\r\n        ) {\r\n          newPossibleMoves.push(LEFT);\r\n        }\r\n        if (\r\n          !obstacles.some(\r\n            item => item.y === player.y && item.x !== player.x + 1\r\n          )\r\n        ) {\r\n          newPossibleMoves.push(RIGHT);\r\n        }\r\n      }\r\n    }\r\n    setPossibleMoves(newPossibleMoves);\r\n  }, [\r\n    dimensions,\r\n    player,\r\n    enemies,\r\n    exit,\r\n    obstacles,\r\n    torches,\r\n    result,\r\n    setLevels,\r\n    levels,\r\n    initialMap\r\n  ]);\r\n\r\n  const resetGame = () => {\r\n    setDimensions(initialMap.dimensions);\r\n    setPlayer(initialMap.player);\r\n    setExit(initialMap.exit);\r\n    setEnemies(initialMap.enemies);\r\n    setObstacles(initialMap.obstacles);\r\n    setTorches(initialMap.torches);\r\n    setResult(PLAYING);\r\n  };\r\n\r\n  const handleMove = move => {\r\n    switch (move) {\r\n      case UP:\r\n        setPlayer({ y: player.y - 1, x: player.x });\r\n        break;\r\n      case DOWN:\r\n        setPlayer({ y: player.y + 1, x: player.x });\r\n        break;\r\n      case LEFT:\r\n        setPlayer({ y: player.y, x: player.x - 1 });\r\n        break;\r\n      case RIGHT:\r\n        setPlayer({ y: player.y, x: player.x + 1 });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      {result === VICTORY && (\r\n        <div className={style.victory}>\r\n          <p>Vous avez gagné</p>\r\n          <button onClick={() => resetGame()}>Recommencer</button>\r\n          <Link to=\"/levels\">\r\n            <button>Quitter</button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n      {result === DEFEAT && (\r\n        <div className={style.victory}>\r\n          <p>Vous vous êtes fait attraper</p>\r\n          <button onClick={() => resetGame()}>Recommencer</button>\r\n          <Link to=\"/levels\">\r\n            <button>Quitter</button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n      <Playground map={map} />\r\n      <ActionPanel\r\n        doMove={move => handleMove(move)}\r\n        possibleMoves={possibleMoves}\r\n      />\r\n    </Layout>\r\n  );\r\n};\r\n","export const PLAYING = \"PLAYING\";\r\nexport const VICTORY = \"VICTORY\";\r\nexport const DEFEAT = \"DEFEAT\";\r\n","import React from \"react\";\r\nimport { Link } from \"@reach/router\";\r\n\r\nimport style from \"./previewlevel.module.css\";\r\n\r\nexport default ({ level }) => {\r\n  return (\r\n    <div className={style.previewMainDiv}>\r\n      <Link to=\"/game\" state={{ initialMap: level }}>\r\n        <button\r\n          className={[\r\n            style.levelButton,\r\n            level.completed ? style.completed : style.notCompleted\r\n          ].join(\" \")}\r\n        >\r\n          {level.number}\r\n        </button>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./selectlevel.module.css\";\r\nimport PreviewLevel from \"../../components/PreviewLevel\";\r\nimport useLevels from \"../../utils/useLevels\";\r\n\r\nexport default () => {\r\n  const { levels } = useLevels();\r\n\r\n  return (\r\n    <div className={style.fullPage}>\r\n      <h1 className={style.title}>Sélection niveau</h1>\r\n      <div className={style.divLevels}>\r\n        {levels\r\n          .sort((a, b) => a.number - b.number)\r\n          .map(level => (\r\n            <PreviewLevel key={level.id} level={level} />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Router, Redirect } from \"@reach/router\";\r\n\r\nimport \"./styles/main.css\";\r\nimport * as serviceWorker from \"./utils/serviceWorker\";\r\n\r\nimport Game from \"./pages/game\";\r\nimport SelectLevel from \"./pages/select-level\";\r\nimport { LevelsProvider } from \"./utils/useLevels\";\r\n\r\nconst App = () => (\r\n  <LevelsProvider>\r\n    <Router>\r\n      <SelectLevel path=\"/levels\" />\r\n      <Game path=\"/game\" />\r\n      <Redirection default />\r\n    </Router>\r\n  </LevelsProvider>\r\n);\r\n\r\nconst Redirection = () => <Redirect to=\"/levels\" noThrow />;\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}