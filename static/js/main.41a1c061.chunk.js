(this.webpackJsonprun=this.webpackJsonprun||[]).push([[0],[,,,,function(e,t,a){e.exports={caseMainDiv:"gamecase_caseMainDiv__DdosM",image:"gamecase_image__3V_yh"}},function(e,t,a){e.exports={actionPanelMainDiv:"actionpanel_actionPanelMainDiv__2uz7O",movementPanel:"actionpanel_movementPanel__Wq6EO",lineCentered:"actionpanel_lineCentered__3m_cL",itemPanel:"actionpanel_itemPanel__3keW7"}},function(e,t,a){e.exports={previewMainDiv:"previewlevel_previewMainDiv__25ukK",levelButton:"previewlevel_levelButton__3gkEq",completed:"previewlevel_completed__39Wyi",notCompleted:"previewlevel_notCompleted__gGqep"}},function(e,t,a){e.exports={playgroundMainDiv:"playground_playgroundMainDiv__1HebO",row:"playground_row__12ACJ"}},function(e,t,a){e.exports={fullPage:"selectlevel_fullPage__K49gz",title:"selectlevel_title__25QdX",divLevels:"selectlevel_divLevels__327M1"}},function(e,t,a){e.exports={fullPage:"menu_fullPage__1sQxP",menuLink:"menu_menuLink__7APGP"}},function(e,t,a){e.exports={victory:"game_victory__3MZO1"}},,,,,function(e,t,a){e.exports={layoutMainDiv:"layout_layoutMainDiv__3It4L"}},function(e,t,a){e.exports={actionButton:"actionbutton_actionButton__2kqle"}},,function(e,t,a){e.exports=a(36)},,,,,,,,,,,,,function(e,t,a){},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL8rwb4ouiLght0RAzt59C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBcHowIHdA9BdgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL/6F4JIuiLght0RAzrt9C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBetzAJv68nj4AAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADbSURBVHhe7dAxEQAgDAAx/KupKHYsYKG/5y4Kct4dlmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZa3c+B0Ai78k09AIAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEASURBVHhe7dExAcAwDMCwdMjLPH0GQof1GIDP3d0J4/sbREMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDaHMPE7xBEUWPmKIAAAAAElFTkSuQmCC"},function(e,t,a){"use strict";a.r(t);var n=a(0),A=a.n(n),c=a(13),r=a.n(c),l=a(1);a(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(17),E=a(2),o=a(15),s=a.n(o),u=function(e){var t=e.children;return A.a.createElement("div",{className:s.a.layoutMainDiv},t)},m=a(7),T=a.n(m),M=a(4),x=a.n(M),B=function(e){var t=e.type;e.torch;return A.a.createElement("div",{className:x.a.caseMainDiv},"OBSTACLE"===t&&A.a.createElement("img",{className:x.a.image,src:a(32),alt:""})||"ENEMY"===t&&A.a.createElement("img",{className:x.a.image,src:a(33),alt:""})||"PLAYER"===t&&A.a.createElement("img",{className:x.a.image,src:a(34),alt:""})||"EXIT"===t&&A.a.createElement("img",{className:x.a.image,src:a(35),alt:""}))},N=function(e){var t=e.map;return A.a.createElement("div",{className:T.a.playgroundMainDiv},A.a.createElement(l.a,{to:"/levels"},A.a.createElement("button",null,"Quitter")),A.a.createElement("div",{className:T.a.gameDiv},t.map((function(e,t){return A.a.createElement("div",{key:t,className:T.a.row},e.map((function(e,t){return A.a.createElement(B,{key:t,type:e.type,torch:e.torch})})))}))))},v=a(5),D=a.n(v),d=a(16),g=a.n(d),p=function(e){var t=e.name,a=e.onClick,n=e.disabled;return A.a.createElement("button",{className:g.a.actionButton,onClick:a,disabled:n},t)},f=function(e){var t=e.doMove,a=e.possibleMoves;return A.a.createElement("div",{className:D.a.actionPanelMainDiv},A.a.createElement("div",{className:D.a.movementPanel},A.a.createElement("div",{className:D.a.lineCentered},A.a.createElement(p,{name:"Haut",onClick:function(){return t("UP")},disabled:!a.includes("UP")})),A.a.createElement("div",{className:D.a.lineCentered},A.a.createElement(p,{name:"Gauche",onClick:function(){return t("LEFT")},disabled:!a.includes("LEFT")}),A.a.createElement(p,{name:"Bas",onClick:function(){return t("DOWN")},disabled:!a.includes("DOWN")}),A.a.createElement(p,{name:"Droite",onClick:function(){return t("RIGHT")},disabled:!a.includes("RIGHT")}))),A.a.createElement("div",{className:D.a.itemPanel},A.a.createElement(p,{name:"Torche",disabled:!a.includes("TORCH")}),A.a.createElement(p,{name:"Hache",disabled:!a.includes("AXE")})))},w=Object(n.createContext)(),b=w.Provider,y=(w.Consumer,[]),Q=function(e){var t=e.children,a=Object(n.useState)(y),c=Object(E.a)(a,2),r=c[0],l=c[1];return Object(n.useEffect)((function(){l([{id:123,number:1,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:0},exit:{y:0,x:3},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]},{id:1e3,number:2,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:3},exit:{y:0,x:0},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]}])}),[]),A.a.createElement(b,{value:{levels:r,setLevels:l}},t)},_=function(){return Object(n.useContext)(w)},C=a(10),h=a.n(C),k=function(e){var t=e.location.state.initialMap,a=_(),c=a.levels,r=a.setLevels,o=Object(n.useState)(t.dimensions),s=Object(E.a)(o,2),m=s[0],T=s[1],M=Object(n.useState)(t.player),x=Object(E.a)(M,2),B=x[0],v=x[1],D=Object(n.useState)(t.exit),d=Object(E.a)(D,2),g=d[0],p=d[1],w=Object(n.useState)(t.enemies),b=Object(E.a)(w,2),y=b[0],Q=b[1],C=Object(n.useState)(t.obstacles),k=Object(E.a)(C,2),O=k[0],I=k[1],R=Object(n.useState)(t.torches),P=Object(E.a)(R,2),U=P[0],j=P[1],S=Object(n.useState)([]),V=Object(E.a)(S,2),J=V[0],L=V[1],G=Object(n.useState)([]),Y=Object(E.a)(G,2),F=Y[0],X=Y[1],Z=Object(n.useState)("PLAYING"),H=Object(E.a)(Z,2),K=H[0],W=H[1];Object(n.useEffect)((function(){for(var e=function(e,t){return O.some((function(a){return a.y===e&&a.x===t}))?"OBSTACLE":y.some((function(a){return a.y===e&&a.x===t}))?"ENEMY":B.x===t&&B.y===e?"PLAYER":g.x===t&&g.y===e?"EXIT":"EMPTY"},a=function(e,t){return U.some((function(a){return a.y===e&&a.x===t}))},n=[],A=0;A<m.row;A++){n.push([]);for(var l=0;l<m.col;l++)n[A].push({type:e(A,l),torch:a()})}L(n);var E=[];"PLAYING"===K&&(B.x===g.x&&B.y===g.y?(W("VICTORY"),r(c.map((function(e){return e.id===t.id?Object(i.a)({},e,{completed:!0}):e})))):(O.some((function(e){return e.y===B.y-1&&e.x===B.x}))||E.push("UP"),O.some((function(e){return e.y===B.y+1&&e.x===B.x}))||E.push("DOWN"),O.some((function(e){return e.y===B.y&&e.x===B.x-1}))||E.push("LEFT"),O.some((function(e){return e.y===B.y&&e.x!==B.x+1}))||E.push("RIGHT"))),X(E)}),[m,B,y,g,O,U,K,r,c,t]);var z=function(){T(t.dimensions),v(t.player),p(t.exit),Q(t.enemies),I(t.obstacles),j(t.torches),W("PLAYING")};return A.a.createElement(u,null,"VICTORY"===K&&A.a.createElement("div",{className:h.a.victory},A.a.createElement("p",null,"Vous avez gagn\xe9"),A.a.createElement("button",{onClick:function(){return z()}},"Recommencer"),A.a.createElement(l.a,{to:"/levels"},A.a.createElement("button",null,"Quitter"))),"DEFEAT"===K&&A.a.createElement("div",{className:h.a.victory},A.a.createElement("p",null,"Vous vous \xeates fait attraper"),A.a.createElement("button",{onClick:function(){return z()}},"Recommencer"),A.a.createElement(l.a,{to:"/levels"},A.a.createElement("button",null,"Quitter"))),A.a.createElement(N,{map:J}),A.a.createElement(f,{doMove:function(e){return function(e){switch(e){case"UP":v({y:B.y-1,x:B.x});break;case"DOWN":v({y:B.y+1,x:B.x});break;case"LEFT":v({y:B.y,x:B.x-1});break;case"RIGHT":v({y:B.y,x:B.x+1})}}(e)},possibleMoves:F}))},O=a(8),I=a.n(O),R=a(6),P=a.n(R),U=function(e){var t=e.level;return A.a.createElement("div",{className:P.a.previewMainDiv},A.a.createElement(l.a,{to:"/game",state:{initialMap:t},className:[P.a.levelButton,t.completed?P.a.completed:P.a.notCompleted].join(" ")},t.number))},j=function(){var e=_().levels;return A.a.createElement("div",{className:I.a.fullPage},A.a.createElement(l.a,{to:"/"},"Revenir au menu"),A.a.createElement("h1",{className:I.a.title},"S\xe9lection niveau"),A.a.createElement("div",{className:I.a.divLevels},e.sort((function(e,t){return e.number-t.number})).map((function(e){return A.a.createElement(U,{key:e.id,level:e})}))))},S=a(9),V=a.n(S),J=function(){return A.a.createElement("div",{className:V.a.fullPage},A.a.createElement(l.a,{to:"/levels",className:V.a.menuLink},"Jouer"),A.a.createElement(l.a,{to:"/",className:V.a.menuLink},"Cr\xe9er un niveau"))},L=function(){return A.a.createElement(l.b,{to:"/levels",noThrow:!0})};r.a.render(A.a.createElement((function(){return A.a.createElement(Q,null,A.a.createElement(l.c,null,A.a.createElement(J,{path:"/"}),A.a.createElement(j,{path:"/levels"}),A.a.createElement(k,{path:"/game"}),A.a.createElement(L,{default:!0})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[18,1,2]]]);
//# sourceMappingURL=main.41a1c061.chunk.js.map