(this.webpackJsonprun=this.webpackJsonprun||[]).push([[0],[,,function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return A}));var n="EMPTY",c="PLAYER",r="ENEMY",l="EXIT",A="OBSTACLE"},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),l=a.n(r),A=a(2);t.default=function(e){var t=e.caseType,n=(e.torch,e.selected),r=e.onClick;return c.a.createElement("div",{className:[l.a.caseMainDiv,n?l.a.selected:""].join(" "),onClick:r},c.a.createElement("img",{className:l.a.image,src:a(37)("".concat(function(){switch(t){case A.d:return"./img/obstacle.png";case A.b:return"./img/enemy.png";case A.e:return"./img/player.png";case A.c:return"./img/exit.png";case A.a:default:return"./img/empty.png"}}())),alt:""}))}},,,function(e,t,a){e.exports={fullPage:"create-level_fullPage__2RlvR",palette:"create-level_palette__2wboY",rightPanel:"create-level_rightPanel__1iAaU",playground:"create-level_playground__1MaEC",validate:"create-level_validate__20rpS"}},function(e,t,a){e.exports={caseMainDiv:"gamecase_caseMainDiv__DdosM",image:"gamecase_image__3V_yh",selected:"gamecase_selected__jTxqr"}},function(e,t,a){e.exports={previewMainDiv:"previewlevel_previewMainDiv__25ukK",levelButton:"previewlevel_levelButton__3gkEq",completed:"previewlevel_completed__39Wyi",notCompleted:"previewlevel_notCompleted__gGqep"}},function(e,t,a){e.exports={movementPanel:"actionpanel_movementPanel__Wq6EO",lineCentered:"actionpanel_lineCentered__3m_cL",itemPanel:"actionpanel_itemPanel__3keW7"}},function(e,t,a){e.exports={victory:"game_victory__3MZO1",playgroundDiv:"game_playgroundDiv__uZikx",actionPanelDiv:"game_actionPanelDiv__3yS9A"}},,function(e,t,a){e.exports={fullPage:"menu_fullPage__1sQxP",menuLink:"menu_menuLink__7APGP"}},function(e,t,a){e.exports={fullPage:"select-level_fullPage__3Iwxk",title:"select-level_title__1vx7W",divLevels:"select-level_divLevels__2uKiu"}},,,,,,function(e,t,a){e.exports={layoutMainDiv:"layout_layoutMainDiv__3It4L"}},function(e,t,a){e.exports={row:"playground_row__12ACJ"}},function(e,t,a){e.exports={actionButton:"actionbutton_actionButton__2kqle"}},function(e,t,a){e.exports=a(43)},,,,,,,,,,,,,function(e,t,a){},function(e,t,a){var n={".":4,"./":4,"./gamecase.module.css":8,"./img/empty.png":38,"./img/enemy.png":39,"./img/exit.png":40,"./img/obstacle.png":41,"./img/player.png":42,"./index":4,"./index.js":4};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=37},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAECSURBVHhe7dGxDcAwDMAwpyf7fyBZegQHcdEBOrt7J4zvbxANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTSEMvMAKYUDHbf/XGsAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL/6F4JIuiLght0RAzrt9C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBetzAJv68nj4AAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEASURBVHhe7dExAcAwDMCwdMjLPH0GQof1GIDP3d0J4/sbREMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDaHMPE7xBEUWPmKIAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL8rwb4ouiLght0RAzt59C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBcHowIHdA9BdgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADbSURBVHhe7dAxEQAgDAAx/KupKHYsYKG/5y4Kct4dlmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZa3c+B0Ai78k09AIAAAAASUVORK5CYII="},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),A=a(3);a(36),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(13),o=a.n(i),s=function(){return c.a.createElement("div",{className:o.a.fullPage},c.a.createElement(A.a,{to:"/levels",className:o.a.menuLink},"Jouer"),c.a.createElement(A.a,{to:"/create-level",className:o.a.menuLink},"Cr\xe9er un niveau"))},E=a(14),u=a.n(E),m=a(9),x=a.n(m),T=function(e){var t=e.level;return c.a.createElement("div",{className:x.a.previewMainDiv},c.a.createElement(A.a,{to:"/game",state:{initialMap:t},className:[x.a.levelButton,t.completed?x.a.completed:x.a.notCompleted].join(" ")},t.number))},d=a(5),v=Object(n.createContext)(),B=v.Provider,M=(v.Consumer,[]),p=function(e){var t=e.children,a=Object(n.useState)(M),r=Object(d.a)(a,2),l=r[0],A=r[1];return Object(n.useEffect)((function(){A([{id:123,number:1,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:0},exit:{y:0,x:3},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]},{id:1e3,number:2,completed:!1,dimensions:{row:4,col:4},player:{y:0,x:3},exit:{y:0,x:0},enemies:[{y:3,x:0}],obstacles:[{y:2,x:0},{y:2,x:1},{y:2,x:2}],torches:[{y:0,x:1}]}])}),[]),c.a.createElement(B,{value:{levels:l,setLevels:A}},t)},N=function(){return Object(n.useContext)(v)},y=function(){var e=N().levels;return c.a.createElement("div",{className:u.a.fullPage},c.a.createElement(A.a,{to:"/"},"Revenir au menu"),c.a.createElement("h1",{className:u.a.title},"S\xe9lection niveau"),c.a.createElement("div",{className:u.a.divLevels},e.sort((function(e,t){return e.number-t.number})).map((function(e){return c.a.createElement(T,{key:e.id,level:e})}))))},g=a(1),w=a(20),f=a.n(w),D=function(e){var t=e.children;return c.a.createElement("div",{className:f.a.layoutMainDiv},t)},Q=a(15),b=a(21),_=a.n(b),C=a(4),k=a(2),O=function(e){var t=e.map,a=e.selectedCase,n=e.onClick,r=function(e){var a=e.row,n=e.col;return t.obstacles.some((function(e){return e.y===a&&e.x===n}))?k.d:t.enemies.some((function(e){return e.y===a&&e.x===n}))?k.b:t.player.y===a&&t.player.x===n?k.e:t.exit.y===a&&t.exit.x===n?k.c:k.a},l=function(e){var t=e.row,n=e.col;return!!a&&a.y===t&&a.x===n};return c.a.createElement(c.a.Fragment,null,Object(Q.a)(new Array(t.dimensions.row)).map((function(e,a){return c.a.createElement("div",{key:a,className:_.a.row},Object(Q.a)(new Array(t.dimensions.col)).map((function(e,t){return c.a.createElement(C.default,{key:t,caseType:r({row:a,col:t}),selected:l({row:a,col:t}),onClick:n({row:a,col:t})})})))})))},h=a(10),j=a.n(h),R=a(22),U=a.n(R),I=function(e){var t=e.name,a=e.onClick,n=e.disabled;return c.a.createElement("button",{className:U.a.actionButton,onClick:a,disabled:n},t)},P=function(e){var t=e.doMove,a=e.possibleMoves;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:j.a.movementPanel},c.a.createElement("div",{className:j.a.lineCentered},c.a.createElement(I,{name:"Haut",onClick:function(){return t("UP")},disabled:!a.includes("UP")})),c.a.createElement("div",{className:j.a.lineCentered},c.a.createElement(I,{name:"Gauche",onClick:function(){return t("LEFT")},disabled:!a.includes("LEFT")}),c.a.createElement(I,{name:"Bas",onClick:function(){return t("DOWN")},disabled:!a.includes("DOWN")}),c.a.createElement(I,{name:"Droite",onClick:function(){return t("RIGHT")},disabled:!a.includes("RIGHT")}))),c.a.createElement("div",{className:j.a.itemPanel},c.a.createElement(I,{name:"Torche",disabled:!a.includes("TORCH")}),c.a.createElement(I,{name:"Hache",disabled:!a.includes("AXE")})))},V=a(11),S=a.n(V),J=function(e){var t=e.location.state.initialMap,a=N(),r=a.levels,l=a.setLevels,i=Object(n.useState)(t),o=Object(d.a)(i,2),s=o[0],E=o[1],u=Object(n.useState)([]),m=Object(d.a)(u,2),x=m[0],T=m[1],v=Object(n.useState)("PLAYING"),B=Object(d.a)(v,2),M=B[0],p=B[1];Object(n.useEffect)((function(){var e=[];"PLAYING"===M&&(s.player.x===s.exit.x&&s.player.y===s.exit.y?(p("VICTORY"),l(r.map((function(e){return e.id===s.id?Object(g.a)({},e,{completed:!0}):e})))):(s.player.y>0&&!s.obstacles.some((function(e){return e.y===s.player.y-1&&e.x===s.player.x}))&&e.push("UP"),s.player.y<s.dimensions.row-1&&!s.obstacles.some((function(e){return e.y===s.player.y+1&&e.x===s.player.x}))&&e.push("DOWN"),s.player.x>0&&!s.obstacles.some((function(e){return e.y===s.player.y&&e.x===s.player.x-1}))&&e.push("LEFT"),s.player.x<s.dimensions.col-1&&!s.obstacles.some((function(e){return e.y===s.player.y&&e.x!==s.player.x+1}))&&e.push("RIGHT"))),T(e)}),[s,r,l,M]);var y=function(){E(t),p("PLAYING")};return c.a.createElement(D,null,"VICTORY"===M&&c.a.createElement("div",{className:S.a.victory},c.a.createElement("p",null,"Vous avez gagn\xe9"),c.a.createElement("button",{onClick:function(){return y()}},"Recommencer"),c.a.createElement(A.a,{to:"/levels"},c.a.createElement("button",null,"Quitter"))),"DEFEAT"===M&&c.a.createElement("div",{className:S.a.victory},c.a.createElement("p",null,"Vous vous \xeates fait attraper"),c.a.createElement("button",{onClick:function(){return y()}},"Recommencer"),c.a.createElement(A.a,{to:"/levels"},c.a.createElement("button",null,"Quitter"))),c.a.createElement("div",{className:S.a.playgroundDiv},c.a.createElement(A.a,{to:"/levels"},"Quitter"),c.a.createElement(O,{map:s})),c.a.createElement("div",{className:S.a.actionPanelDiv},c.a.createElement(P,{doMove:function(e){return function(e){switch(e){case"UP":E(Object(g.a)({},s,{player:Object(g.a)({},s.player,{y:s.player.y-1})}));break;case"DOWN":E(Object(g.a)({},s,{player:Object(g.a)({},s.player,{y:s.player.y+1})}));break;case"LEFT":E(Object(g.a)({},s,{player:Object(g.a)({},s.player,{x:s.player.x-1})}));break;case"RIGHT":E(Object(g.a)({},s,{player:Object(g.a)({},s.player,{x:s.player.x+1})}))}}(e)},possibleMoves:x})))},z=a(12),G=a(7),L=a.n(G),Y=function(){var e={dimensions:{row:3,col:3},player:{y:void 0,x:void 0},exit:{y:void 0,x:void 0},enemies:[],obstacles:[],torches:[]},t=Object(n.useState)(e),a=Object(d.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)({y:0,x:0}),o=Object(d.a)(i,2),s=o[0],E=(o[1],function(e){var t=e.name,a=e.value;a>=3&&a<=10&&l(Object(g.a)({},r,{dimensions:Object(g.a)({},r.dimensions,Object(z.a)({},t,a))}))}),u=function(){return r.player.y===s.y&&r.player.x===s.x?Object(g.a)({},r,{player:{y:void 0,x:void 0}}):r.exit.y===s.y&&r.exit.x===s.x?Object(g.a)({},r,{exit:{y:void 0,x:void 0}}):r.enemies.some((function(e){return e.y===s.y&&e.x===s.x}))?Object(g.a)({},r,{enemies:r.enemies.filter((function(e){return e.y!==s.y&&e.x!==s.x}))}):r.obstacles.some((function(e){return e.y===s.y&&e.x===s.x}))?Object(g.a)({},r,{obstacles:r.obstacles.filter((function(e){return e.y!==s.y&&e.x!==s.x}))}):r};return c.a.createElement("div",{className:L.a.fullPage},c.a.createElement("div",{className:L.a.palette},c.a.createElement(A.a,{to:"/"},"Retourner au menu"),c.a.createElement("label",null,"Hauteur : ",r.dimensions.row,c.a.createElement("button",{onClick:function(){return E({name:"row",value:r.dimensions.row-1})}},"-"),c.a.createElement("button",{onClick:function(){return E({name:"row",value:r.dimensions.row+1})}},"+")),c.a.createElement("label",null,"Largeur : ",r.dimensions.col,c.a.createElement("button",{onClick:function(){return E({name:"col",value:r.dimensions.col-1})}},"-"),c.a.createElement("button",{onClick:function(){return E({name:"col",value:r.dimensions.col+1})}},"+")),c.a.createElement(C.default,{caseType:k.a,onClick:function(){l(u())}}),c.a.createElement(C.default,{caseType:k.e,onClick:function(){var e=u();l(Object(g.a)({},e,{player:{y:s.y,x:s.x}}))}}),c.a.createElement(C.default,{caseType:k.c,onClick:function(){var e=u();l(Object(g.a)({},e,{exit:{y:s.y,x:s.x}}))}}),c.a.createElement(C.default,{caseType:k.b,onClick:function(){var e=u();l(Object(g.a)({},e,{enemies:r.enemies.concat({y:s.y,x:s.x})}))}}),c.a.createElement(C.default,{caseType:k.d,onClick:function(){var e=u();l(Object(g.a)({},e,{obstacles:r.obstacles.concat({y:s.y,x:s.x})}))}})),c.a.createElement("div",{className:L.a.rightPanel},c.a.createElement("div",{className:L.a.playground},c.a.createElement(O,{map:r,selectedCase:s,onClick:function(e){e.row,e.col}})),c.a.createElement("div",{className:L.a.validate},c.a.createElement("button",null,"Enregistrer ce niveau"))))},F=function(){return c.a.createElement(A.b,{to:"/",noThrow:!0})};l.a.render(c.a.createElement((function(){return c.a.createElement(p,null,c.a.createElement(A.c,null,c.a.createElement(s,{path:"/"}),c.a.createElement(y,{path:"/levels"}),c.a.createElement(J,{path:"/game"}),c.a.createElement(Y,{path:"/create-level"}),c.a.createElement(F,{default:!0})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[23,1,2]]]);
//# sourceMappingURL=main.4a35f2bd.chunk.js.map