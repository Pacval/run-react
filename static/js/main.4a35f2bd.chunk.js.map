{"version":3,"sources":["constants/gameCaseTypes.js","components/GameCase/index.js","pages/create-level/create-level.module.css","components/GameCase/gamecase.module.css","components/PreviewLevel/previewlevel.module.css","components/ActionPanel/actionpanel.module.css","pages/game/game.module.css","pages/menu/menu.module.css","pages/select-level/select-level.module.css","components/Layout/layout.module.css","components/Playground/playground.module.css","components/ActionButton/actionbutton.module.css","components/GameCase sync /^.*$","components/GameCase/img/empty.png","components/GameCase/img/enemy.png","components/GameCase/img/exit.png","components/GameCase/img/obstacle.png","components/GameCase/img/player.png","utils/serviceWorker.js","pages/menu/index.js","components/PreviewLevel/index.js","utils/useLevels.js","pages/select-level/index.js","components/Layout/index.js","components/Playground/index.js","components/ActionButton/index.js","components/ActionPanel/index.js","constants/actionMoves.js","pages/game/index.js","constants/gameStates.js","pages/create-level/index.js","index.js"],"names":["EMPTY","PLAYER","ENEMY","EXIT","OBSTACLE","caseType","selected","torch","onClick","className","style","caseMainDiv","join","image","src","require","getImgSrc","alt","module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Boolean","window","location","hostname","match","fullPage","to","menuLink","level","previewMainDiv","state","initialMap","levelButton","completed","notCompleted","number","levelsProvider","createContext","Provider","initialLevels","Consumer","LevelsProvider","children","useState","levels","setLevels","useEffect","dimensions","row","col","player","y","x","exit","enemies","obstacles","torches","value","useContext","useLevels","title","divLevels","sort","a","b","PreviewLevel","key","layoutMainDiv","selectedCase","getCaseType","some","item","isSelectedCase","Array","rowIndex","colIndex","GameCase","name","disabled","actionButton","doMove","possibleMoves","movementPanel","lineCentered","ActionButton","includes","itemPanel","setMap","setPossibleMoves","result","setResult","newPossibleMoves","push","resetGame","Layout","victory","playgroundDiv","Playground","actionPanelDiv","ActionPanel","move","handleMove","undefined","handleChangeSize","removePreviousCase","element","filter","palette","toto","concat","rightPanel","playground","validate","Redirection","noThrow","ReactDOM","render","path","default","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4a35f2bd.chunk.js","sourcesContent":["export const EMPTY = \"EMPTY\";\r\nexport const PLAYER = \"PLAYER\";\r\nexport const ENEMY = \"ENEMY\";\r\nexport const EXIT = \"EXIT\";\r\nexport const OBSTACLE = \"OBSTACLE\";\r\n","import React from \"react\";\r\n\r\nimport style from \"./gamecase.module.css\";\r\nimport { OBSTACLE, ENEMY, PLAYER, EXIT, EMPTY } from \"../../constants/gameCaseTypes\";\r\n\r\nexport default ({ caseType, torch, selected, onClick }) => {\r\n\r\n  const getImgSrc = () => {\r\n    switch (caseType) {\r\n      case OBSTACLE:\r\n        return \"./img/obstacle.png\";\r\n      case ENEMY:\r\n        return \"./img/enemy.png\";\r\n      case PLAYER:\r\n        return \"./img/player.png\";\r\n      case EXIT:\r\n        return \"./img/exit.png\";\r\n      case EMPTY:\r\n        return \"./img/empty.png\";\r\n      default:\r\n        return \"./img/empty.png\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={[\r\n        style.caseMainDiv,\r\n        selected ? style.selected : \"\"\r\n      ].join(\" \")}\r\n      onClick={onClick}\r\n    >\r\n      <img\r\n        className={style.image}\r\n        src={require(`${getImgSrc()}`)}\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullPage\":\"create-level_fullPage__2RlvR\",\"palette\":\"create-level_palette__2wboY\",\"rightPanel\":\"create-level_rightPanel__1iAaU\",\"playground\":\"create-level_playground__1MaEC\",\"validate\":\"create-level_validate__20rpS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caseMainDiv\":\"gamecase_caseMainDiv__DdosM\",\"image\":\"gamecase_image__3V_yh\",\"selected\":\"gamecase_selected__jTxqr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"previewMainDiv\":\"previewlevel_previewMainDiv__25ukK\",\"levelButton\":\"previewlevel_levelButton__3gkEq\",\"completed\":\"previewlevel_completed__39Wyi\",\"notCompleted\":\"previewlevel_notCompleted__gGqep\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movementPanel\":\"actionpanel_movementPanel__Wq6EO\",\"lineCentered\":\"actionpanel_lineCentered__3m_cL\",\"itemPanel\":\"actionpanel_itemPanel__3keW7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"victory\":\"game_victory__3MZO1\",\"playgroundDiv\":\"game_playgroundDiv__uZikx\",\"actionPanelDiv\":\"game_actionPanelDiv__3yS9A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullPage\":\"menu_fullPage__1sQxP\",\"menuLink\":\"menu_menuLink__7APGP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullPage\":\"select-level_fullPage__3Iwxk\",\"title\":\"select-level_title__1vx7W\",\"divLevels\":\"select-level_divLevels__2uKiu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layoutMainDiv\":\"layout_layoutMainDiv__3It4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"playground_row__12ACJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionButton\":\"actionbutton_actionButton__2kqle\"};","var map = {\n\t\".\": 4,\n\t\"./\": 4,\n\t\"./gamecase.module.css\": 8,\n\t\"./img/empty.png\": 38,\n\t\"./img/enemy.png\": 39,\n\t\"./img/exit.png\": 40,\n\t\"./img/obstacle.png\": 41,\n\t\"./img/player.png\": 42,\n\t\"./index\": 4,\n\t\"./index.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 37;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAECSURBVHhe7dGxDcAwDMAwpyf7fyBZegQHcdEBOrt7J4zvbxANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTQE0xBMQzANwTSEMvMAKYUDHbf/XGsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL/6F4JIuiLght0RAzrt9C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBetzAJv68nj4AAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEASURBVHhe7dExAcAwDMCwdMjLPH0GQof1GIDP3d0J4/sbREMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDcE0BNMQTEMwDaHMPE7xBEUWPmKIAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEBSURBVHhe7dExAYAwAMTAL8rwb4ouiLght0RAzt59C+P5G0RDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA3BNATTEExDMA2hbBcHowIHdA9BdgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADbSURBVHhe7dAxEQAgDAAx/KupKHYsYKG/5y4Kct4dlmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZgaxAViArkBXICmQFsgJZa3c+B0Ai78k09AIAAAAASUVORK5CYII=\"","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"@reach/router\";\r\n\r\nimport style from \"./menu.module.css\";\r\n\r\nexport default () => {\r\n  return (\r\n    <div className={style.fullPage}>\r\n      <Link to=\"/levels\" className={style.menuLink}>\r\n        Jouer\r\n      </Link>\r\n      <Link to=\"/create-level\" className={style.menuLink}>\r\n        Créer un niveau\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"@reach/router\";\r\n\r\nimport style from \"./previewlevel.module.css\";\r\n\r\nexport default ({ level }) => {\r\n  return (\r\n    <div className={style.previewMainDiv}>\r\n      <Link\r\n        to=\"/game\"\r\n        state={{ initialMap: level }}\r\n        className={[\r\n          style.levelButton,\r\n          level.completed ? style.completed : style.notCompleted\r\n        ].join(\" \")}\r\n      >\r\n        {level.number}\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n","import React, { createContext, useState, useContext, useEffect } from \"react\";\r\n\r\nconst levelsProvider = createContext();\r\nconst { Provider, Consumer } = levelsProvider;\r\n\r\nconst initialLevels = [];\r\n\r\nexport const LevelsProvider = ({ children }) => {\r\n  const [levels, setLevels] = useState(initialLevels);\r\n\r\n  useEffect(() => {\r\n    setLevels([\r\n      {\r\n        id: 123,\r\n        number: 1,\r\n        completed: false,\r\n        dimensions: { row: 4, col: 4 },\r\n        player: { y: 0, x: 0 },\r\n        exit: { y: 0, x: 3 },\r\n        enemies: [{ y: 3, x: 0 }],\r\n        obstacles: [\r\n          { y: 2, x: 0 },\r\n          { y: 2, x: 1 },\r\n          { y: 2, x: 2 }\r\n        ],\r\n        torches: [{ y: 0, x: 1 }]\r\n      },\r\n      {\r\n        id: 1000,\r\n        number: 2,\r\n        completed: false,\r\n        dimensions: { row: 4, col: 4 },\r\n        player: { y: 0, x: 3 },\r\n        exit: { y: 0, x: 0 },\r\n        enemies: [{ y: 3, x: 0 }],\r\n        obstacles: [\r\n          { y: 2, x: 0 },\r\n          { y: 2, x: 1 },\r\n          { y: 2, x: 2 }\r\n        ],\r\n        torches: [{ y: 0, x: 1 }]\r\n      }\r\n    ]);\r\n  }, []);\r\n\r\n  return <Provider value={{ levels, setLevels }}>{children}</Provider>;\r\n};\r\n\r\nexport const LevelsConsumer = Consumer;\r\n\r\nexport default () => useContext(levelsProvider);\r\n","import React from \"react\";\r\nimport {Link} from \"@reach/router\"\r\n\r\nimport style from \"./select-level.module.css\";\r\n\r\nimport PreviewLevel from \"../../components/PreviewLevel\";\r\nimport useLevels from \"../../utils/useLevels\";\r\n\r\nexport default () => {\r\n  const { levels } = useLevels();\r\n\r\n  return (\r\n    <div className={style.fullPage}>\r\n      <Link to=\"/\">Revenir au menu</Link>\r\n      <h1 className={style.title}>Sélection niveau</h1>\r\n      <div className={style.divLevels}>\r\n        {levels\r\n          .sort((a, b) => a.number - b.number)\r\n          .map(level => (\r\n            <PreviewLevel key={level.id} level={level} />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./layout.module.css\";\r\n\r\nexport default ({ children }) => {\r\n  return <div className={style.layoutMainDiv}>{children}</div>;\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./playground.module.css\";\r\n\r\nimport GameCase from \"../GameCase\";\r\nimport { OBSTACLE, ENEMY, PLAYER, EXIT, EMPTY } from \"../../constants/gameCaseTypes\";\r\n\r\nexport default ({ map, selectedCase, onClick }) => {\r\n\r\n  const getCaseType = ({ row, col }) => {\r\n    if (map.obstacles.some(item => item.y === row && item.x === col)) {\r\n      return OBSTACLE;\r\n    } else if (map.enemies.some(item => item.y === row && item.x === col)) {\r\n      return ENEMY;\r\n    } else if (map.player.y === row && map.player.x === col) {\r\n      return PLAYER;\r\n    } else if (map.exit.y === row && map.exit.x === col) {\r\n      return EXIT;\r\n    } else {\r\n      return EMPTY;\r\n    }\r\n  }\r\n\r\n  const isSelectedCase = ({ row, col }) => {\r\n    return !!selectedCase && selectedCase.y === row && selectedCase.x === col;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {[...new Array(map.dimensions.row)].map((row, rowIndex) => {\r\n        return (\r\n          <div key={rowIndex} className={style.row}>\r\n            {[...new Array(map.dimensions.col)].map((col, colIndex) => {\r\n              return (<GameCase\r\n                key={colIndex}\r\n                caseType={getCaseType({ row: rowIndex, col: colIndex })}\r\n                selected={isSelectedCase({ row: rowIndex, col: colIndex })}\r\n                onClick={onClick({ row: rowIndex, col: colIndex })}\r\n              />)\r\n            })}\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./actionbutton.module.css\";\r\n\r\nexport default ({ name, onClick, disabled }) => {\r\n  return (\r\n    <button\r\n      className={style.actionButton}\r\n      onClick={onClick}\r\n      disabled={disabled}\r\n    >\r\n      {name}\r\n    </button>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport style from \"./actionpanel.module.css\";\r\nimport { UP, DOWN, LEFT, RIGHT, TORCH, AXE } from \"../../constants/actionMoves\";\r\n\r\nimport ActionButton from \"../ActionButton\";\r\n\r\nexport default ({ doMove, possibleMoves }) => {\r\n  return (\r\n    <>\r\n      <div className={style.movementPanel}>\r\n        <div className={style.lineCentered}>\r\n          <ActionButton\r\n            name=\"Haut\"\r\n            onClick={() => doMove(UP)}\r\n            disabled={!possibleMoves.includes(UP)}\r\n          />\r\n        </div>\r\n        <div className={style.lineCentered}>\r\n          <ActionButton\r\n            name=\"Gauche\"\r\n            onClick={() => doMove(LEFT)}\r\n            disabled={!possibleMoves.includes(LEFT)}\r\n          />\r\n          <ActionButton\r\n            name=\"Bas\"\r\n            onClick={() => doMove(DOWN)}\r\n            disabled={!possibleMoves.includes(DOWN)}\r\n          />\r\n          <ActionButton\r\n            name=\"Droite\"\r\n            onClick={() => doMove(RIGHT)}\r\n            disabled={!possibleMoves.includes(RIGHT)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className={style.itemPanel}>\r\n        <ActionButton name=\"Torche\" disabled={!possibleMoves.includes(TORCH)} />\r\n        <ActionButton name=\"Hache\" disabled={!possibleMoves.includes(AXE)} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","export const UP = \"UP\";\r\nexport const DOWN = \"DOWN\";\r\nexport const LEFT = \"LEFT\";\r\nexport const RIGHT = \"RIGHT\";\r\nexport const TORCH = \"TORCH\";\r\nexport const AXE = \"AXE\";\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"@reach/router\";\r\n\r\nimport Layout from \"../../components/Layout\";\r\nimport Playground from \"../../components/Playground\";\r\nimport ActionPanel from \"../../components/ActionPanel\";\r\n\r\nimport useLevels from \"../../utils/useLevels\";\r\nimport style from \"./game.module.css\";\r\n\r\nimport { UP, DOWN, LEFT, RIGHT } from \"../../constants/actionMoves\";\r\nimport { PLAYING, VICTORY, DEFEAT } from \"../../constants/gameStates\";\r\n\r\nexport default ({ location }) => {\r\n  const initialMap = location.state.initialMap;\r\n\r\n  const { levels, setLevels } = useLevels();\r\n\r\n  const [map, setMap] = useState(initialMap);\r\n  const [possibleMoves, setPossibleMoves] = useState([]);\r\n  const [result, setResult] = useState(PLAYING);\r\n\r\n  useEffect(() => {\r\n    const newPossibleMoves = [];\r\n\r\n    // ATTENTION on ne passe ici que quand la partie n'est pas finie. Sinon boucle infinie de render\r\n    if (result === PLAYING) {\r\n      // condition de victoire\r\n      if (map.player.x === map.exit.x && map.player.y === map.exit.y) {\r\n        setResult(VICTORY);\r\n        setLevels(\r\n          levels.map(item =>\r\n            item.id === map.id ? { ...item, completed: true } : item\r\n          )\r\n        );\r\n      } else {\r\n        if (map.player.y > 0 && !map.obstacles.some(item => item.y === map.player.y - 1 && item.x === map.player.x)) {\r\n          newPossibleMoves.push(UP);\r\n        }\r\n        if (map.player.y < map.dimensions.row - 1 && !map.obstacles.some(item => item.y === map.player.y + 1 && item.x === map.player.x)) {\r\n          newPossibleMoves.push(DOWN);\r\n        }\r\n        if (map.player.x > 0 && !map.obstacles.some(item => item.y === map.player.y && item.x === map.player.x - 1)) {\r\n          newPossibleMoves.push(LEFT);\r\n        }\r\n        if (map.player.x < map.dimensions.col - 1 && !map.obstacles.some(item => item.y === map.player.y && item.x !== map.player.x + 1)) {\r\n          newPossibleMoves.push(RIGHT);\r\n        }\r\n      }\r\n    }\r\n    setPossibleMoves(newPossibleMoves);\r\n  }, [map, levels, setLevels, result]);\r\n\r\n  const resetGame = () => {\r\n    setMap(initialMap);\r\n    setResult(PLAYING);\r\n  };\r\n\r\n  const handleMove = move => {\r\n    switch (move) {\r\n      case UP:\r\n        setMap({ ...map, player: { ...map.player, y: map.player.y - 1 } });\r\n        break;\r\n      case DOWN:\r\n        setMap({ ...map, player: { ...map.player, y: map.player.y + 1 } });\r\n        break;\r\n      case LEFT:\r\n        setMap({ ...map, player: { ...map.player, x: map.player.x - 1 } });\r\n        break;\r\n      case RIGHT:\r\n        setMap({ ...map, player: { ...map.player, x: map.player.x + 1 } });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      {result === VICTORY && (\r\n        <div className={style.victory}>\r\n          <p>Vous avez gagné</p>\r\n          <button onClick={() => resetGame()}>Recommencer</button>\r\n          <Link to=\"/levels\">\r\n            <button>Quitter</button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n      {result === DEFEAT && (\r\n        <div className={style.victory}>\r\n          <p>Vous vous êtes fait attraper</p>\r\n          <button onClick={() => resetGame()}>Recommencer</button>\r\n          <Link to=\"/levels\">\r\n            <button>Quitter</button>\r\n          </Link>\r\n        </div>\r\n      )}\r\n      <div className={style.playgroundDiv}>\r\n        <Link to=\"/levels\">Quitter</Link>\r\n        <Playground map={map} />\r\n      </div>\r\n      <div className={style.actionPanelDiv}>\r\n        <ActionPanel\r\n          doMove={move => handleMove(move)}\r\n          possibleMoves={possibleMoves}\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n","export const PLAYING = \"PLAYING\";\r\nexport const VICTORY = \"VICTORY\";\r\nexport const DEFEAT = \"DEFEAT\";\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"@reach/router\"\r\n\r\nimport style from \"./create-level.module.css\";\r\n\r\nimport Playground from \"../../components/Playground\";\r\nimport GameCase from \"../../components/GameCase\";\r\nimport { PLAYER, EMPTY, EXIT, ENEMY, OBSTACLE } from \"../../constants/gameCaseTypes\";\r\n\r\nexport default () => {\r\n\r\n  const initialMap = {\r\n    dimensions: { row: 3, col: 3 },\r\n    player: { y: undefined, x: undefined },\r\n    exit: { y: undefined, x: undefined },\r\n    enemies: [],\r\n    obstacles: [],\r\n    torches: []\r\n  };\r\n\r\n  const [map, setMap] = useState(initialMap);\r\n  const [selectedCase, setSelectedCase] = useState({ y: 0, x: 0 });\r\n\r\n  const handleChangeSize = ({ name, value }) => {\r\n    if (value >= 3 && value <= 10) {\r\n      setMap({ ...map, dimensions: { ...map.dimensions, [name]: value } });\r\n    }\r\n  }\r\n\r\n  const handleSelectCase = ({ row, col }) => {\r\n    // setSelectedCase({ y: row, x: col });\r\n  }\r\n\r\n  const handleAddCaseEmpty = () => {\r\n    setMap(removePreviousCase());\r\n  }\r\n\r\n  const handleAddCasePlayer = () => {\r\n    const toto = removePreviousCase();\r\n    setMap({ ...toto, player: { y: selectedCase.y, x: selectedCase.x } });\r\n  }\r\n\r\n  const handleAddCaseExit = () => {\r\n    const toto = removePreviousCase();\r\n    setMap({ ...toto, exit: { y: selectedCase.y, x: selectedCase.x } });\r\n  }\r\n\r\n  const handleAddCaseEnemy = () => {\r\n    const toto = removePreviousCase();\r\n    setMap({ ...toto, enemies: map.enemies.concat({ y: selectedCase.y, x: selectedCase.x }) });\r\n  }\r\n\r\n  const handleAddCaseObstacle = () => {\r\n    const toto = removePreviousCase();\r\n    setMap({ ...toto, obstacles: map.obstacles.concat({ y: selectedCase.y, x: selectedCase.x }) });\r\n  }\r\n\r\n  const removePreviousCase = () => {\r\n    if (map.player.y === selectedCase.y && map.player.x === selectedCase.x) {\r\n      return { ...map, player: { y: undefined, x: undefined } };\r\n\r\n    } else if (map.exit.y === selectedCase.y && map.exit.x === selectedCase.x) {\r\n      return { ...map, exit: { y: undefined, x: undefined } };\r\n\r\n    } else if (map.enemies.some(element => element.y === selectedCase.y && element.x === selectedCase.x)) {\r\n      return { ...map, enemies: map.enemies.filter(element => element.y !== selectedCase.y && element.x !== selectedCase.x) };\r\n\r\n    } else if (map.obstacles.some(element => element.y === selectedCase.y && element.x === selectedCase.x)) {\r\n      return { ...map, obstacles: map.obstacles.filter(element => element.y !== selectedCase.y && element.x !== selectedCase.x) };\r\n\r\n    } else {\r\n      return map;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={style.fullPage}>\r\n      <div className={style.palette}>\r\n        <Link to=\"/\">Retourner au menu</Link>\r\n        <label>\r\n          Hauteur : {map.dimensions.row}\r\n          <button onClick={() => handleChangeSize({ name: \"row\", value: map.dimensions.row - 1 })}>-</button>\r\n          <button onClick={() => handleChangeSize({ name: \"row\", value: map.dimensions.row + 1 })}>+</button>\r\n        </label>\r\n        <label>\r\n          Largeur : {map.dimensions.col}\r\n          <button onClick={() => handleChangeSize({ name: \"col\", value: map.dimensions.col - 1 })}>-</button>\r\n          <button onClick={() => handleChangeSize({ name: \"col\", value: map.dimensions.col + 1 })}>+</button>\r\n        </label>\r\n\r\n        <GameCase caseType={EMPTY} onClick={handleAddCaseEmpty} />\r\n        <GameCase caseType={PLAYER} onClick={handleAddCasePlayer} />\r\n        <GameCase caseType={EXIT} onClick={handleAddCaseExit} />\r\n        <GameCase caseType={ENEMY} onClick={handleAddCaseEnemy} />\r\n        <GameCase caseType={OBSTACLE} onClick={handleAddCaseObstacle} />\r\n\r\n      </div>\r\n      <div className={style.rightPanel}>\r\n        <div className={style.playground}>\r\n          <Playground map={map} selectedCase={selectedCase} onClick={handleSelectCase} />\r\n        </div>\r\n        <div className={style.validate}>\r\n          <button>Enregistrer ce niveau</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Router, Redirect } from \"@reach/router\";\r\n\r\nimport \"./styles/main.css\";\r\nimport * as serviceWorker from \"./utils/serviceWorker\";\r\n\r\nimport Menu from \"./pages/menu\";\r\nimport SelectLevel from \"./pages/select-level\";\r\nimport Game from \"./pages/game\";\r\nimport CreateLevel from \"./pages/create-level\";\r\nimport { LevelsProvider } from \"./utils/useLevels\";\r\n\r\nconst App = () => (\r\n  <LevelsProvider>\r\n    <Router>\r\n      <Menu path=\"/\" />\r\n      <SelectLevel path=\"/levels\" />\r\n      <Game path=\"/game\" />\r\n      <CreateLevel path=\"/create-level\" />\r\n      <Redirection default />\r\n    </Router>\r\n  </LevelsProvider>\r\n);\r\n\r\nconst Redirection = () => <Redirect to=\"/\" noThrow />;\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}